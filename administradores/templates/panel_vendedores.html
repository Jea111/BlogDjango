{% extends "layout/base-panel.html" %} {% block title %} panel vendedores -
Librería {% endblock %} {% block content %}

<div class="container py-5">
  <h2 class="text-center text-primary fw-bold mb-4">Panel del Vendedor</h2>

  <a
    href="{% url 'agregarBlogs' %}"
    class="btn btn-success border-1 badge rounded-pill text-decoration-none"
  >
    New Blog
  </a>
  <br />

  <h3 class="border-start border-4 border-primary ps-2 text-dark mb-4">
    Blogs del vendedor
  </h3>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    {% for b in vendedor_blog %}
    <div class="col">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-header bg-light border-0">
          <h5 class="card-title text-primary fw-bold mb-0">{{ b.titulo }}</h5>
        </div>

        <div class="card-body">
          <p class="card-text small mb-2">
            <strong>Precio:</strong> {{ b.precio }} <br />
            <strong>Fecha:</strong> {{ b.fecha }} <br />
            <strong>Estado:</strong>
            {% if b.disponible %}
            <span class="badge bg-success rounded-pill">Disponible</span>
            {% else %}
            <span class="badge bg-danger rounded-pill">Vendido</span>
            {% endif %}
          </p>

          <div class="text-center mb-3">
            <img
              src="{{ b.portada.url }}"
              alt="Imagen del blog"
              class="img-fluid rounded"
              style="max-height: 220px; object-fit: cover"
            />
          </div>

          <div class="d-flex justify-content-between">
            <form
              action="{% url 'eliminar_blog' b.id %}"
              method="post"
              class="d-inline"
            >
              {% csrf_token %}
              <button type="submit" class="btn btn-outline-danger btn-sm w-100">
                <i class="bi bi-trash"></i> Eliminar
              </button>
            </form>

            <form
              action="{% url 'editar_blog' b.id %}"
              method="get"
              class="d-inline"
            >
              <button
                type="submit"
                class="btn btn-outline-warning btn-sm w-100"
              >
                <i class="bi bi-pencil"></i> Editar
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-muted">No tienes blogs registrados.</p>
    {% endfor %}
  </div>

  <h3 class="border-start border-4 border-primary ps-2 text-dark mt-5 mb-4">
    Ventas realizadas
  </h3>

  <div class="row row-cols-1 row-cols-md-2 g-3">
    {% for v in ventas_vendedor %}
    <div class="col">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-body">
          <p class="card-text mb-0">
            <strong class="text-dark"
              >Usuario: {{ v.usuario.nombre }}<br />Dirección:
              {{v.usuario.direccion}}

              <br />

              Metodo de pago: {{v.usuario.metodo_pago}}

              <br />
              Producto:
            </strong>

            <strong class="text-primary">{{ v.producto.titulo }}</strong> por
            <span class="text-success fw-semibold">{{ v.total }}</span>
          </p>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-muted">No tienes ventas registradas.</p>
    {% endfor %}
  </div>
</div>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
/>

{% endblock %}
